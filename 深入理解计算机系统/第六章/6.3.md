							***存储器层次结构***



上两节描述了存储技术和计算机软件的一些基本的和持久的属性：

- ***存储技术***：不同的存储技术的访问时间差异很大。速度较快的技术每字节的成本要比速度慢的技术高，而且容量较小。CPU和主存之间的速度差距在增大。
- ***计算机软件***：一个编写良好的程序倾向于展示出良好的局部性。

数据总是以块大小为***传送单元***(transfer unit)在第k层和第k+1层之间来回复制的。



1) 缓存命中：

   当程序需要第k+1层的某个数据对象d时，它首先在当前存储在第k层的一个块中查找d。如果d刚好缓存在第k层中，那么就是我们所说的***缓存命中***(cache hit)。

2) 缓存不命中：

   另一方面，如果第k层中没有缓存数据对象d，那么就是我们所说的***缓存不命中***(cache miss).



概括来说，基于缓存的存储器层次结构行之有效，是因为较慢的存储设备比较快的存储设备更便宜，还因为程序倾向于展示局部性：

- ***利用时间局部性***：由于时间局部性，同一数据对象可能会被多次使用。一旦一个数据对象在第一次不命中时被复制到缓存中，我们就会期望后面对该目标有一系列的访问命中。因为缓存比第一层的存储设备更快，对后面的命中的服务会比最开始的不命中快很多。
- ***利用空间局部性***：块通常包含有多个数据对象，由于空间局部性，我们会期望后面对该块中其他对象的访问能够补偿不命中后复制该块的花费。

