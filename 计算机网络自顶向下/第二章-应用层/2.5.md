                            ***DNS***

    一个IP地址由4个字节组成，并有着严格的层次结构.

    DNS服务：
        DNS是：
            1) 一个由分层的DNS服务器实现的分布式数据库；
            2) 一个使得主机能够查询分布式数据库的应用层协议。
        DNS提供的重要服务：
            1) 主机别名。
            2) 邮件服务器别名
            3) 负载均衡
        DNS工作原理：
            用户主机上的某种程序需要将主机名转换为IP地址。将调用DNS客户端，并指明需要被转换的主机名。用户主机上的DNS接收到后，像网络中发送一个DNS查询报文。所有的DNS请求和回答报文使用UDP数据报经端口53发送。经过若干毫秒到若干秒的时延后，用户主机上的DNS接收到一个提供所希望映射的DNS回答报文。这个映射结果则被传递到调用DNS的应用程序。

        分布式、层次数据库
            有三种类型的DNS服务器：根DNS服务器、顶级域、DNS服务器和权威DNS服务器。
        DNS记录和报文
            DNS资源记录包含了下列字段的4元组：
            (Name, Value, Type, TTL)
            TTL是该记录的生存时间，它决定了资源记录应当从缓存中删除的时间。Name和Value的值取决于Type：
                -如果Type = A，则Name是主机名，Value是该主机名对应的IP地址。因此，一条类型为A的资源记录提供了标准的主机名到IP地址的映射。
                -如果Type = NS，则Name是个域，而Value是个知道如何获得该域中主机IP地址的权威DNS服务器的主机名。这个纪录用于沿着查询链来路由DNS查询。
                -如果Type = CNAME， 则Value是别名为Name的主机对应的规范主机名。该记录能够向查询的主机提供一个主机名对应的规范主机名。
                -如果Type - MX，则Value是个别名为Name的邮件服务器的规范主机名。举例来说，(foo.com, mail.bar.foo.com, MX)就是一条MX记录。MX记录允许邮件服务器主机名具有简单的别名。
            DNS报文

                   |----------------------------        --|
                   | 标识符      |       标志              |
                   | ---------------------------          |
                   | 问题数      |       回答RR数          |-12字节
                   | ---------------------------          |
                   | 权威RR数    |       附加RR数          |
                   | ---------------------------        --|
                   |    问题(问题的变量数)          ---------查询的名字和类型字段             
                   | ---------------------------
                   |    回答(资源记录的变量数)      ---------对查询的响应中的RR
                   | ---------------------------
                   |    权威(资源记录的变量数)      ---------权威服务器的记录
                   |----------------------------
                   |    附加信息(资源记录的变量数)  ---------可被使用的附加“有帮助的”信息
                   |----------------------------

            -前12个字节是首部区域，其中有几个字段。第一个(标识符)是一个16比特的数，用于标识该查询。这个标识符会被复制到对查询的回答报文中，以便客户用它来匹配发送的请求和接收到的回答。标志字段中含有若干标志。1比特的"查询/回答"标志位指出报文是查询报文（0）还是回答报文（1）。
            -问题区域包含着正在进行的查询信息。
            -在来自DNS服务器的回答中，回答区域包含了对最初请求的名字的资源记录。
            -权威区域包含了其他权威服务器的记录。
            -附加区域包含了其他有帮助的记录。